// Generated by CoffeeScript 1.10.0
var BApi, G, c;

c = console || {
  log: function() {}
};

G = window;

BApi = (function() {
  function BApi(host) {
    this.host = host;
    this.host = "http://" + this.host;
    this.root = this.host + "/api";
  }

  BApi.prototype.methodGet = function(contractName, name, values) {
    var query;
    query = $.param(values);
    return this.root + "/" + contractName + "/" + name + "?" + query;
  };

  BApi.prototype.get = function(contract, methodName, id) {
    var values;
    values = {
      values: [id],
      types: ["uint256"]
    };
    c.log(methodName + "(" + (values.values.join(", ")) + ") called!");
    return new Promise((function(_this) {
      return function(resolve, reject) {
        return $.getJSON(_this.methodGet(contract, methodName, values)).fail(reject).then(function(val) {
          return resolve(val.value);
        });
      };
    })(this));
  };

  return BApi;

})();

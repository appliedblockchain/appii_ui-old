{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///router.min.js","webpack:///webpack/bootstrap 656893e55ca913d34f3a","webpack:///external \"riot\"","webpack:///./~/extend/index.js"],"names":["root","factory","exports","module","require","define","amd","a","i","this","__WEBPACK_EXTERNAL_MODULE_1__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_typeof","obj","Symbol","constructor","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","global","apply","undefined","riot","extend","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","TypeError","prototype","Object","create","value","enumerable","writable","configurable","setPrototypeOf","__proto__","_classCallCheck","instance","Constructor","_slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","_s","_i","iterator","next","done","push","length","err","Array","isArray","_get","get","object","property","receiver","Function","desc","getOwnPropertyDescriptor","parent","getPrototypeOf","getter","_createClass","defineProperties","target","props","descriptor","defineProperty","key","protoProps","staticProps","error","console","Router","router","observable","interceptors","processRoute","bind","handler","InitialRoute","current","Context","response","process","_routes","route","routes","interceptor","params","slice","arguments","uri","join","context","rootContext","processRequest","processInterceptors","processResponse","isRedirect","processRedirect","request","redirectTo","trigger","addRedirect","navigateTo","preInterceptors","postInterceptors","concat","stop","processor","shift","start","exec","Request","Response","redirectStack","indexOf","Error","Handler","matcher","matches","routeMatch","routeMiss","add","t","ChildRequest","Route","_Handler","options","_this","tag","api","path","name","updatable","pathParameterNames","getPath","replace","pattern","ignored","group","regex","RegExp","_routes2","redirectRoutes","filter","r","RedirectRoute","defaultRoutes","DefaultRoute","notFoundRoutes","NotFoundRoute","otherRoutes","decodeURIComponent","parseInt","found","processRoutes","createRequest","_Route","substring","parentUri","_Handler2","_this3","_Handler3","_this4","from","to","_Handler4","_this5","trim","hasOwnProperty","index","opts","calculateLevel","level","__router_level","__router_tag","normalizeTag","result","unmountTag","unmount","mountTag","_normalizeTag","_normalizeTag2","canUpdate","update","replaceChild","document","createElement","children","mount","instanceTag","instanceApi","config","isMounted","updateRoute","size","on","off","_","hasOwn","toStr","toString","isPlainObject","hasOwnConstructor","hasIsPrototypeOf","src","copy","copyIsArray","clone","deep"],"mappings":"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","file":"router.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"riot\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"riot\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"riot\")) : factory(root[\"riot\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"riot\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"riot\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"riot\")) : factory(root[\"riot\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;'use strict';\n\n\tfunction _typeof(obj) { return obj && typeof Symbol !== \"undefined\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; }\n\n\t(function (global, factory) {\n\t  if (true) {\n\t    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [module, __webpack_require__(1), __webpack_require__(2)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t  } else if (typeof exports !== \"undefined\") {\n\t    factory(module, require('riot'), require('extend'));\n\t  } else {\n\t    var mod = {\n\t      exports: {}\n\t    };\n\t    factory(mod, global.riot, global.extend);\n\t    global.router = mod.exports;\n\t  }\n\t})(this, function (module, riot, extend) {\n\t  var _slicedToArray = (function () {\n\t    function sliceIterator(arr, i) {\n\t      var _arr = [];\n\t      var _n = true;\n\t      var _d = false;\n\t      var _e = undefined;\n\n\t      try {\n\t        for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n\t          _arr.push(_s.value);\n\n\t          if (i && _arr.length === i) break;\n\t        }\n\t      } catch (err) {\n\t        _d = true;\n\t        _e = err;\n\t      } finally {\n\t        try {\n\t          if (!_n && _i[\"return\"]) _i[\"return\"]();\n\t        } finally {\n\t          if (_d) throw _e;\n\t        }\n\t      }\n\n\t      return _arr;\n\t    }\n\n\t    return function (arr, i) {\n\t      if (Array.isArray(arr)) {\n\t        return arr;\n\t      } else if (Symbol.iterator in Object(arr)) {\n\t        return sliceIterator(arr, i);\n\t      } else {\n\t        throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n\t      }\n\t    };\n\t  })();\n\n\t  function _possibleConstructorReturn(self, call) {\n\t    if (!self) {\n\t      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n\t    }\n\n\t    return call && ((typeof call === 'undefined' ? 'undefined' : _typeof(call)) === \"object\" || typeof call === \"function\") ? call : self;\n\t  }\n\n\t  var _get = function get(object, property, receiver) {\n\t    if (object === null) object = Function.prototype;\n\t    var desc = Object.getOwnPropertyDescriptor(object, property);\n\n\t    if (desc === undefined) {\n\t      var parent = Object.getPrototypeOf(object);\n\n\t      if (parent === null) {\n\t        return undefined;\n\t      } else {\n\t        return get(parent, property, receiver);\n\t      }\n\t    } else if (\"value\" in desc) {\n\t      return desc.value;\n\t    } else {\n\t      var getter = desc.get;\n\n\t      if (getter === undefined) {\n\t        return undefined;\n\t      }\n\n\t      return getter.call(receiver);\n\t    }\n\t  };\n\n\t  function _inherits(subClass, superClass) {\n\t    if (typeof superClass !== \"function\" && superClass !== null) {\n\t      throw new TypeError(\"Super expression must either be null or a function, not \" + (typeof superClass === 'undefined' ? 'undefined' : _typeof(superClass)));\n\t    }\n\n\t    subClass.prototype = Object.create(superClass && superClass.prototype, {\n\t      constructor: {\n\t        value: subClass,\n\t        enumerable: false,\n\t        writable: true,\n\t        configurable: true\n\t      }\n\t    });\n\t    if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n\t  }\n\n\t  function _classCallCheck(instance, Constructor) {\n\t    if (!(instance instanceof Constructor)) {\n\t      throw new TypeError(\"Cannot call a class as a function\");\n\t    }\n\t  }\n\n\t  var _createClass = (function () {\n\t    function defineProperties(target, props) {\n\t      for (var i = 0; i < props.length; i++) {\n\t        var descriptor = props[i];\n\t        descriptor.enumerable = descriptor.enumerable || false;\n\t        descriptor.configurable = true;\n\t        if (\"value\" in descriptor) descriptor.writable = true;\n\t        Object.defineProperty(target, descriptor.key, descriptor);\n\t      }\n\t    }\n\n\t    return function (Constructor, protoProps, staticProps) {\n\t      if (protoProps) defineProperties(Constructor.prototype, protoProps);\n\t      if (staticProps) defineProperties(Constructor, staticProps);\n\t      return Constructor;\n\t    };\n\t  })();\n\n\t  var error = console && console.error || function () {};\n\n\t  var Router = (function () {\n\t    function Router() {\n\t      _classCallCheck(this, Router);\n\n\t      riot.router = this;\n\t      riot.observable(this);\n\t      this.interceptors = [this.processRoute.bind(this)];\n\t      this.handler = new InitialRoute();\n\t      this.current = new Context(\"\").response;\n\t      this.process = this.process.bind(this);\n\t    }\n\n\t    _createClass(Router, [{\n\t      key: 'route',\n\t      value: function route(handler) {\n\t        this.handler = handler;\n\t      }\n\t    }, {\n\t      key: 'routes',\n\t      value: function routes(_routes) {\n\t        this.route(new InitialRoute().routes(_routes));\n\t      }\n\t    }, {\n\t      key: 'use',\n\t      value: function use(interceptor) {\n\t        this.interceptors.push(interceptor);\n\t      }\n\t    }, {\n\t      key: 'process',\n\t      value: function process() {\n\t        var params = Array.prototype.slice.call(arguments);\n\t        var uri = params.join(\"/\");\n\t        if (uri[0] !== '/') uri = \"/\" + uri;\n\t        var context = new Context(uri);\n\t        if (!this.rootContext) this.rootContext = context;\n\t        this.processRequest(context);\n\t        return context;\n\t      }\n\t    }, {\n\t      key: 'processRequest',\n\t      value: function processRequest(context) {\n\t        this.processInterceptors(context);\n\t        return this.processResponse(context);\n\t      }\n\t    }, {\n\t      key: 'processResponse',\n\t      value: function processResponse(context) {\n\t        if (this.isRedirect(context)) {\n\t          return this.processRedirect(context);\n\t        }\n\n\t        var request = context.request;\n\t        var response = context.response;\n\n\t        if (!response.redirectTo) {\n\t          this.current = response;\n\t          this.rootContext = null;\n\t          this.trigger('route:updated', response);\n\t          return context;\n\t        }\n\t      }\n\t    }, {\n\t      key: 'isRedirect',\n\t      value: function isRedirect(context) {\n\t        return !!context.response.redirectTo;\n\t      }\n\t    }, {\n\t      key: 'processRedirect',\n\t      value: function processRedirect(context) {\n\t        var uri = context.response.redirectTo;\n\t        this.rootContext.addRedirect(uri);\n\t        this.navigateTo(uri);\n\t      }\n\t    }, {\n\t      key: 'navigateTo',\n\t      value: function navigateTo(uri) {\n\t        riot.route(uri);\n\t      }\n\t    }, {\n\t      key: 'processInterceptors',\n\t      value: function processInterceptors(context, preInterceptors, postInterceptors) {\n\t        var interceptors = (preInterceptors || []).concat(this.interceptors).concat(postInterceptors || []);\n\n\t        var next = function next() {\n\t          if (!context.stop) {\n\t            var processor = interceptors.shift();\n\t            var request = context.request;\n\t            var response = context.response;\n\t            if (processor) return processor(request, response, next, context);\n\t          }\n\n\t          return context;\n\t        };\n\n\t        return next();\n\t      }\n\t    }, {\n\t      key: 'processRoute',\n\t      value: function processRoute(request, response, next, context) {\n\t        this.handler.process(request, response, context);\n\t        return next();\n\t      }\n\t    }, {\n\t      key: 'start',\n\t      value: function start() {\n\t        riot.route(this.process);\n\t        riot.route.start();\n\t        this.exec();\n\t      }\n\t    }, {\n\t      key: 'exec',\n\t      value: function exec() {\n\t        riot.route.exec(this.process);\n\t      }\n\t    }]);\n\n\t    return Router;\n\t  })();\n\n\t  var Context = (function () {\n\t    function Context(request) {\n\t      _classCallCheck(this, Context);\n\n\t      this.request = typeof request === 'string' ? new Request(request) : request;\n\t      this.response = new Response(this.request);\n\t      this.redirectStack = [];\n\t    }\n\n\t    _createClass(Context, [{\n\t      key: 'addRedirect',\n\t      value: function addRedirect(uri) {\n\t        if (this.redirectStack.indexOf(uri) > -1) throw new Error(\"Cyclic redirection to \" + uri + \". Stack = \" + this.redirectStack);\n\t        this.redirectStack.push(uri);\n\t      }\n\t    }]);\n\n\t    return Context;\n\t  })();\n\n\t  var Handler = (function () {\n\t    function Handler() {\n\t      _classCallCheck(this, Handler);\n\t    }\n\n\t    _createClass(Handler, [{\n\t      key: 'matches',\n\t      value: function matches(request) {\n\t        return false;\n\t      }\n\t    }, {\n\t      key: 'process',\n\t      value: function process(request, response) {\n\t        var matcher = this.matches(request);\n\t        if (!matcher) return this.routeMiss(request, response);\n\t        return this.routeMatch(request, response, matcher);\n\t      }\n\t    }, {\n\t      key: 'routeMatch',\n\t      value: function routeMatch(request, response, matcher) {\n\t        response.add(matcher);\n\t        return true;\n\t      }\n\t    }, {\n\t      key: 'routeMiss',\n\t      value: function routeMiss(request, response) {\n\t        return false;\n\t      }\n\t    }, {\n\t      key: 'processRoutes',\n\t      value: function processRoutes(request, response, routes) {\n\t        if (routes && routes.length) {\n\t          var t = routes.length;\n\n\t          for (var i = 0; i < t; i++) {\n\t            var route = routes[i];\n\t            if (route.process(request, response)) return true;\n\t          }\n\n\t          return false;\n\t        }\n\t      }\n\t    }, {\n\t      key: 'createRequest',\n\t      value: function createRequest(request, matcher) {\n\t        return new ChildRequest(request, matcher);\n\t      }\n\t    }]);\n\n\t    return Handler;\n\t  })();\n\n\t  var Route = (function (_Handler) {\n\t    _inherits(Route, _Handler);\n\n\t    function Route(options) {\n\t      _classCallCheck(this, Route);\n\n\t      var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Route).call(this, options));\n\n\t      options = options || {};\n\t      _this.tag = options.tag;\n\t      _this.api = options.api;\n\t      _this.path = options.path;\n\t      _this.name = options.name;\n\t      _this.updatable = options.updatable;\n\t      _this.pathParameterNames = [];\n\n\t      var path = _this.getPath().replace(/^\\//, \"\");\n\n\t      _this.pattern = \"^/?\" + path.replace(/:([^/]+)/g, (function (ignored, group) {\n\t        this.pathParameterNames.push(group);\n\t        return \"([^/]+)\";\n\t      }).bind(_this)) + \"(:?/|$)\";\n\t      _this.regex = new RegExp(_this.pattern);\n\t      return _this;\n\t    }\n\n\t    _createClass(Route, [{\n\t      key: 'routes',\n\t      value: function routes(_routes2) {\n\t        var redirectRoutes = _routes2.filter(function (r) {\n\t          return r instanceof RedirectRoute;\n\t        });\n\n\t        var defaultRoutes = _routes2.filter(function (r) {\n\t          return r instanceof DefaultRoute;\n\t        });\n\n\t        var notFoundRoutes = _routes2.filter(function (r) {\n\t          return r instanceof NotFoundRoute;\n\t        });\n\n\t        var otherRoutes = _routes2.filter(function (r) {\n\t          return redirectRoutes.indexOf(r) === -1 && defaultRoutes.indexOf(r) === -1 && notFoundRoutes.indexOf(r) === -1;\n\t        });\n\n\t        if (notFoundRoutes.length > 1) error(\"Can't use more than one NotFoundRoute per route. --> \" + this.getPath());\n\t        if (defaultRoutes.length > 1) error(\"Can't use more than one DefaultRoute per route. --> \" + this.getPath());\n\t        this._routes = [].concat(redirectRoutes).concat(otherRoutes).concat(defaultRoutes).concat(notFoundRoutes);\n\t        return this;\n\t      }\n\t    }, {\n\t      key: 'matches',\n\t      value: function matches(request) {\n\t        var matcher = this.regex.exec(request.uri);\n\n\t        if (matcher) {\n\t          var params = {};\n\n\t          for (var i in this.pathParameterNames) {\n\t            var name = this.pathParameterNames[i];\n\t            params[name] = decodeURIComponent(matcher[parseInt(i, 10) + 1]);\n\t          }\n\n\t          return {\n\t            route: this,\n\t            tag: this.tag,\n\t            api: this.api,\n\t            found: matcher[0],\n\t            params: params\n\t          };\n\t        }\n\n\t        return false;\n\t      }\n\t    }, {\n\t      key: 'routeMatch',\n\t      value: function routeMatch(request, response, matcher) {\n\t        var matches = _get(Object.getPrototypeOf(Route.prototype), 'routeMatch', this).call(this, request, response, matcher);\n\n\t        this.processRoutes(request, response, matcher);\n\t        return matches;\n\t      }\n\t    }, {\n\t      key: 'processRoutes',\n\t      value: function processRoutes(request, response, matcher) {\n\t        return _get(Object.getPrototypeOf(Route.prototype), 'processRoutes', this).call(this, this.createRequest(request, matcher), response, this._routes);\n\t      }\n\t    }, {\n\t      key: 'getPath',\n\t      value: function getPath() {\n\t        return this.name || this.path || (typeof this.tag === 'string' ? this.tag : '');\n\t      }\n\t    }]);\n\n\t    return Route;\n\t  })(Handler);\n\n\t  var InitialRoute = (function (_Route) {\n\t    _inherits(InitialRoute, _Route);\n\n\t    function InitialRoute() {\n\t      _classCallCheck(this, InitialRoute);\n\n\t      return _possibleConstructorReturn(this, Object.getPrototypeOf(InitialRoute).apply(this, arguments));\n\t    }\n\n\t    return InitialRoute;\n\t  })(Route);\n\n\t  var ChildRequest = function ChildRequest(request, matcher) {\n\t    _classCallCheck(this, ChildRequest);\n\n\t    this.request = request;\n\t    this.matcher = matcher;\n\t    this.uri = this.request.uri.substring(matcher.found.length);\n\t    this.parentUri = this.request.uri.substring(0, matcher.found.length);\n\t  };\n\n\t  var NotFoundRoute = (function (_Handler2) {\n\t    _inherits(NotFoundRoute, _Handler2);\n\n\t    function NotFoundRoute(options) {\n\t      _classCallCheck(this, NotFoundRoute);\n\n\t      var _this3 = _possibleConstructorReturn(this, Object.getPrototypeOf(NotFoundRoute).call(this, options));\n\n\t      options = options || {};\n\t      _this3.tag = options.tag;\n\t      _this3.api = options.api;\n\t      return _this3;\n\t    }\n\n\t    _createClass(NotFoundRoute, [{\n\t      key: 'matches',\n\t      value: function matches(request) {\n\t        return {\n\t          route: this,\n\t          tag: this.tag,\n\t          api: this.api,\n\t          found: request.uri\n\t        };\n\t      }\n\t    }]);\n\n\t    return NotFoundRoute;\n\t  })(Handler);\n\n\t  var RedirectRoute = (function (_Handler3) {\n\t    _inherits(RedirectRoute, _Handler3);\n\n\t    function RedirectRoute(options) {\n\t      _classCallCheck(this, RedirectRoute);\n\n\t      var _this4 = _possibleConstructorReturn(this, Object.getPrototypeOf(RedirectRoute).call(this, options));\n\n\t      options = options || {};\n\t      _this4.from = options.from;\n\t      _this4.to = options.to;\n\t      _this4.pattern = \"(^/?)\" + _this4.from + \"(/|$)\";\n\t      _this4.regex = new RegExp(_this4.pattern);\n\t      return _this4;\n\t    }\n\n\t    _createClass(RedirectRoute, [{\n\t      key: 'process',\n\t      value: function process(request, response) {\n\t        var uri = request.uri.replace(this.regex, \"$1\" + this.to + \"$2\");\n\n\t        if (uri !== request.uri) {\n\t          var parent = request.parentUri || \"\";\n\t          response.redirectTo = parent + uri;\n\t          return true;\n\t        }\n\t      }\n\t    }]);\n\n\t    return RedirectRoute;\n\t  })(Handler);\n\n\t  var DefaultRoute = (function (_Handler4) {\n\t    _inherits(DefaultRoute, _Handler4);\n\n\t    function DefaultRoute(options) {\n\t      _classCallCheck(this, DefaultRoute);\n\n\t      var _this5 = _possibleConstructorReturn(this, Object.getPrototypeOf(DefaultRoute).call(this, options));\n\n\t      options = options || {};\n\t      _this5.tag = options.tag;\n\t      _this5.api = options.api;\n\t      return _this5;\n\t    }\n\n\t    _createClass(DefaultRoute, [{\n\t      key: 'matches',\n\t      value: function matches(request) {\n\t        var uri = request.uri.trim();\n\t        if (uri === \"/\" || uri === \"\") return {\n\t          route: this,\n\t          tag: this.tag,\n\t          api: this.api,\n\t          found: uri\n\t        };\n\t      }\n\t    }]);\n\n\t    return DefaultRoute;\n\t  })(Handler);\n\n\t  var Request = function Request(uri) {\n\t    _classCallCheck(this, Request);\n\n\t    this.uri = uri;\n\t  };\n\n\t  var Response = (function () {\n\t    function Response(request) {\n\t      _classCallCheck(this, Response);\n\n\t      this.uri = request.uri;\n\t      this.matches = [];\n\t      this.params = {};\n\t    }\n\n\t    _createClass(Response, [{\n\t      key: 'add',\n\t      value: function add(matcher) {\n\t        this.matches.push(matcher);\n\t        var params = matcher.params;\n\n\t        if (params) {\n\t          for (var key in params) {\n\t            if (params.hasOwnProperty(key)) {\n\t              this.params[key] = params[key];\n\t            }\n\t          }\n\t        }\n\t      }\n\t    }, {\n\t      key: 'get',\n\t      value: function get(index) {\n\t        return this.matches[index];\n\t      }\n\t    }, {\n\t      key: 'size',\n\t      value: function size() {\n\t        return this.matches.length;\n\t      }\n\t    }, {\n\t      key: 'isEmpty',\n\t      value: function isEmpty() {\n\t        return this.matches.length;\n\t      }\n\t    }]);\n\n\t    return Response;\n\t  })();\n\n\t  riot.tag('route', '<router-content></router-content>', function (opts) {\n\t    this.calculateLevel = (function (target) {\n\t      var level = 0;\n\t      if (target.parent) level += this.calculateLevel(target.parent);\n\t      if (target.opts.__router_level) level += target.opts.__router_level;\n\t      if (target.__router_tag) level += 1;\n\t      return level;\n\t    }).bind(this);\n\n\t    this.normalizeTag = function (tag, api, options) {\n\t      var result = tag(api, options);\n\n\t      if (typeof result === 'string') {\n\t        tag = result;\n\t      } else {\n\t        tag = result.tag || tag;\n\t        api = result.api || api;\n\t      }\n\n\t      return [tag, api, options];\n\t    };\n\n\t    this.unmountTag = function () {\n\t      if (this.instance) this.instance.unmount(true);\n\t    };\n\n\t    this.mountTag = function (tag, api, options) {\n\t      if (typeof tag === 'function') {\n\t        var _normalizeTag = this.normalizeTag(tag, api, options);\n\n\t        var _normalizeTag2 = _slicedToArray(_normalizeTag, 3);\n\n\t        tag = _normalizeTag2[0];\n\t        api = _normalizeTag2[1];\n\t        options = _normalizeTag2[2];\n\t      }\n\n\t      if (this.canUpdate(tag, api, options)) {\n\t        this.instance.update(api);\n\t      } else {\n\t        this.unmountTag();\n\n\t        if (tag) {\n\t          this.root.replaceChild(document.createElement(tag), this.root.children[0]);\n\t          this.instance = riot.mount(this.root.children[0], tag, api)[0];\n\t          this.instanceTag = tag;\n\t          this.instanceApi = api;\n\t        }\n\t      }\n\t    };\n\n\t    this.canUpdate = function (tag, api, options) {\n\t      if (!riot.router.config.updatable && !opts.updatable && !options.updatable || !this.instance || !this.instance.isMounted || this.instanceTag !== tag) return false;\n\t      return true;\n\t    };\n\n\t    this.updateRoute = (function () {\n\t      var mount = {\n\t        tag: null\n\t      };\n\n\t      if (riot.router && riot.router.current) {\n\t        var response = riot.router.current;\n\n\t        if (this.level <= response.size()) {\n\t          var matcher = response.get(this.level);\n\n\t          if (matcher) {\n\t            var params = matcher.params || {};\n\t            var api = extend(true, {}, matcher.api, params, {\n\t              __router_level: this.level\n\t            });\n\t            mount = {\n\t              tag: matcher.tag,\n\t              api: api,\n\t              updatable: matcher.route.updatable\n\t            };\n\t          }\n\t        }\n\t      }\n\n\t      if (mount.tag) this.mountTag(mount.tag, mount.api, mount);else this.unmountTag();\n\t    }).bind(this);\n\n\t    this.__router_tag = 'route';\n\t    this.level = this.calculateLevel(this);\n\t    riot.router.on('route:updated', this.updateRoute);\n\t    this.on('unmount', (function () {\n\t      riot.router.off('route:updated', this.updateRoute);\n\t      this.unmountTag();\n\t    }).bind(this));\n\t    this.on('mount', (function () {\n\t      this.updateRoute();\n\t    }).bind(this));\n\t  });\n\t  var router = new Router();\n\t  router.Route = Route;\n\t  router.DefaultRoute = DefaultRoute;\n\t  router.RedirectRoute = RedirectRoute;\n\t  router.NotFoundRoute = NotFoundRoute;\n\t  router._ = {\n\t    Response: Response,\n\t    Request: Request\n\t  };\n\t  router.config = {\n\t    updatable: false\n\t  };\n\t  riot.router = router;\n\t  module.exports = router;\n\t});\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar hasOwn = Object.prototype.hasOwnProperty;\n\tvar toStr = Object.prototype.toString;\n\t\n\tvar isArray = function isArray(arr) {\n\t\tif (typeof Array.isArray === 'function') {\n\t\t\treturn Array.isArray(arr);\n\t\t}\n\t\n\t\treturn toStr.call(arr) === '[object Array]';\n\t};\n\t\n\tvar isPlainObject = function isPlainObject(obj) {\n\t\tif (!obj || toStr.call(obj) !== '[object Object]') {\n\t\t\treturn false;\n\t\t}\n\t\n\t\tvar hasOwnConstructor = hasOwn.call(obj, 'constructor');\n\t\tvar hasIsPrototypeOf = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf');\n\t\t// Not own constructor property must be Object\n\t\tif (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {\n\t\t\treturn false;\n\t\t}\n\t\n\t\t// Own properties are enumerated firstly, so to speed up,\n\t\t// if last one is own, then all properties are own.\n\t\tvar key;\n\t\tfor (key in obj) {/**/}\n\t\n\t\treturn typeof key === 'undefined' || hasOwn.call(obj, key);\n\t};\n\t\n\tmodule.exports = function extend() {\n\t\tvar options, name, src, copy, copyIsArray, clone,\n\t\t\ttarget = arguments[0],\n\t\t\ti = 1,\n\t\t\tlength = arguments.length,\n\t\t\tdeep = false;\n\t\n\t\t// Handle a deep copy situation\n\t\tif (typeof target === 'boolean') {\n\t\t\tdeep = target;\n\t\t\ttarget = arguments[1] || {};\n\t\t\t// skip the boolean and the target\n\t\t\ti = 2;\n\t\t} else if ((typeof target !== 'object' && typeof target !== 'function') || target == null) {\n\t\t\ttarget = {};\n\t\t}\n\t\n\t\tfor (; i < length; ++i) {\n\t\t\toptions = arguments[i];\n\t\t\t// Only deal with non-null/undefined values\n\t\t\tif (options != null) {\n\t\t\t\t// Extend the base object\n\t\t\t\tfor (name in options) {\n\t\t\t\t\tsrc = target[name];\n\t\t\t\t\tcopy = options[name];\n\t\n\t\t\t\t\t// Prevent never-ending loop\n\t\t\t\t\tif (target !== copy) {\n\t\t\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\t\t\tif (deep && copy && (isPlainObject(copy) || (copyIsArray = isArray(copy)))) {\n\t\t\t\t\t\t\tif (copyIsArray) {\n\t\t\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\t\t\tclone = src && isArray(src) ? src : [];\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tclone = src && isPlainObject(src) ? src : {};\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\t\t\ttarget[name] = extend(deep, clone, copy);\n\t\n\t\t\t\t\t\t// Don't bring in undefined values\n\t\t\t\t\t\t} else if (typeof copy !== 'undefined') {\n\t\t\t\t\t\t\ttarget[name] = copy;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\t// Return the modified object\n\t\treturn target;\n\t};\n\t\n\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** router.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 656893e55ca913d34f3a\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"riot\"\n ** module id = 1\n ** module chunks = 0\n **/","'use strict';\n\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toStr = Object.prototype.toString;\n\nvar isArray = function isArray(arr) {\n\tif (typeof Array.isArray === 'function') {\n\t\treturn Array.isArray(arr);\n\t}\n\n\treturn toStr.call(arr) === '[object Array]';\n};\n\nvar isPlainObject = function isPlainObject(obj) {\n\tif (!obj || toStr.call(obj) !== '[object Object]') {\n\t\treturn false;\n\t}\n\n\tvar hasOwnConstructor = hasOwn.call(obj, 'constructor');\n\tvar hasIsPrototypeOf = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf');\n\t// Not own constructor property must be Object\n\tif (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {\n\t\treturn false;\n\t}\n\n\t// Own properties are enumerated firstly, so to speed up,\n\t// if last one is own, then all properties are own.\n\tvar key;\n\tfor (key in obj) {/**/}\n\n\treturn typeof key === 'undefined' || hasOwn.call(obj, key);\n};\n\nmodule.exports = function extend() {\n\tvar options, name, src, copy, copyIsArray, clone,\n\t\ttarget = arguments[0],\n\t\ti = 1,\n\t\tlength = arguments.length,\n\t\tdeep = false;\n\n\t// Handle a deep copy situation\n\tif (typeof target === 'boolean') {\n\t\tdeep = target;\n\t\ttarget = arguments[1] || {};\n\t\t// skip the boolean and the target\n\t\ti = 2;\n\t} else if ((typeof target !== 'object' && typeof target !== 'function') || target == null) {\n\t\ttarget = {};\n\t}\n\n\tfor (; i < length; ++i) {\n\t\toptions = arguments[i];\n\t\t// Only deal with non-null/undefined values\n\t\tif (options != null) {\n\t\t\t// Extend the base object\n\t\t\tfor (name in options) {\n\t\t\t\tsrc = target[name];\n\t\t\t\tcopy = options[name];\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif (target !== copy) {\n\t\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\t\tif (deep && copy && (isPlainObject(copy) || (copyIsArray = isArray(copy)))) {\n\t\t\t\t\t\tif (copyIsArray) {\n\t\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\t\tclone = src && isArray(src) ? src : [];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tclone = src && isPlainObject(src) ? src : {};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\t\ttarget[name] = extend(deep, clone, copy);\n\n\t\t\t\t\t// Don't bring in undefined values\n\t\t\t\t\t} else if (typeof copy !== 'undefined') {\n\t\t\t\t\t\ttarget[name] = copy;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/extend/index.js\n ** module id = 2\n ** module chunks = 0\n **/"],"sourceRoot":""}